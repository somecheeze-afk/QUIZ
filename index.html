<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>„Ç≥„Ç≥„Ç§„ÉÅ„ÇØ„Ç§„Ç∫Ôºà„Çπ„Éó„É©„ÉÉ„Ç∑„É•Ôºã„Çµ„Ç¶„É≥„ÉâÔºã„Çπ„É©„Ç§„ÉÄ„Éº„Éªv20250913iÔºâ</title>
  <meta name="x-deploy" content="v-20250913i" />
  <style>
    :root{
      --bg:#0b1025; --bg2:#0f172a;
      --panel:#111827; --panel2:#1f2937;
      --text:#e5e7eb; --muted:#9ca3af;
      --ok:#22c55e; --ng:#ef4444; --accent:#f59e0b; --accent2:#f97316;
      --ring: rgba(245, 158, 11, .35);
    }
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      background: radial-gradient(1200px 800px at 50% -20%, #1f2937 0%, var(--bg2) 40%, var(--bg) 100%);
      font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",Meiryo,sans-serif;
    }
    .wrap{max-width:920px;margin:0 auto;padding:28px}
    .card{
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid rgba(255,255,255,.06);
      border-radius:18px; padding:22px;
      box-shadow: 0 18px 50px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
      backdrop-filter: blur(3px);
      animation: floatIn .6s cubic-bezier(.2,.7,.3,1) both;
    }
    @keyframes floatIn{from{opacity:0; transform: translateY(10px) scale(.98)}}
    h1{margin:0 0 8px; font-size:clamp(24px,4vw,36px)}
    h2{margin:0 0 8px; font-size:clamp(20px,3vw,26px); color:#fedc7d}
    .muted{color:var(--muted)}
    .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:10px 0}
    .pill{padding:4px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.1);background:#0b1020;font-size:12px}
    .btn{
      appearance:none;border:none;cursor:pointer;
      padding:12px 16px;border-radius:14px;
      background:#303848;color:#fff;font-weight:700;
      transform: translateZ(0); transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
    }
    .btn:hover{transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,0,0,.32)}
    .btn:active{transform: translateY(1px) scale(.98)}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#111}
    .toolbar{display:flex;gap:12px;align-items:center;margin:8px 0; justify-content:space-between}
    .toggle{
      display:inline-flex; align-items:center; gap:6px;
      padding:8px 12px; background:#0b1020; border:1px solid rgba(255,255,255,.08); border-radius:999px;
      user-select:none; cursor:pointer;
    }
    .dot{width:10px;height:10px;border-radius:50%; background:#666; box-shadow:0 0 0 2px rgba(255,255,255,.06) inset}
    .dot.on{background:#22c55e}
    /* Sections */
    .hide{display:none}
    .fadeIn{animation:fadeIn .35s ease both}
    @keyframes fadeIn{from{opacity:0; transform:translateY(6px)}}
    /* Quiz UI */
    .choices{display:grid;gap:12px}
    @media(min-width:720px){.choices{grid-template-columns:1fr 1fr}}
    .choice{
      padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#0b1222;color:#e5e7eb;text-align:left;
      transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
      position:relative; overflow:hidden;
    }
    .choice:focus-visible{outline:none; box-shadow:0 0 0 3px var(--ring)}
    .choice:hover{transform: translateY(-1px)}
    .choice[disabled]{opacity:.75;cursor:not-allowed; filter:saturate(.9)}
    .correct{box-shadow:0 0 0 2px rgba(34,197,94,.35) inset, 0 8px 24px rgba(34,197,94,.2);border-color:rgba(34,197,94,.9)}
    .wrong{box-shadow:0 0 0 2px rgba(239,68,68,.35) inset, 0 8px 24px rgba(239,68,68,.2);border-color:rgba(239,68,68,.9)}
    .pop{animation:pop .18s ease both}
    @keyframes pop{from{transform:scale(.98)} to{transform:scale(1.02)}}
    .shake{animation:shake .3s ease both}
    @keyframes shake{10%,90%{transform:translateX(-1px)} 20%,80%{transform:translateX(2px)} 30%,50%,70%{transform:translateX(-3px)} 40%,60%{transform:translateX(3px)}}
    .progress{height:12px;border-radius:999px;background:#111827;border:1px solid rgba(255,255,255,.06);overflow:hidden;margin:8px 0}
    .bar{height:100%;width:0;background:linear-gradient(90deg,#22c55e,#f59e0b); transition:width .25s ease}
    .foot{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:12px}
    /* Range slider (question count) */
    .slider{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
    input[type=range]{
      -webkit-appearance:none; appearance:none; width:260px; height:10px; border-radius:999px;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      outline:none; border:1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    }
    input[type=range]::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none; width:24px; height:24px; border-radius:50%;
      background:#fff; border:2px solid #111; box-shadow:0 6px 18px rgba(0,0,0,.35);
      transition: transform .08s ease;
    }
    input[type=range]::-webkit-slider-thumb:hover{transform: scale(1.06)}
    input[type=range]::-moz-range-thumb{
      width:24px;height:24px;border-radius:50%;background:#fff;border:2px solid #111;
    }
    .valueBubble{min-width:42px;text-align:center;padding:6px 10px;border-radius:10px;background:#0b1020;border:1px solid rgba(255,255,255,.08)}
    /* ===== Splash (Auto-fade + Skip) ===== */
    #splash{position:fixed;inset:0;display:grid;place-items:center;background:radial-gradient(1200px 800px at 50% 0%,#1f2937 0%,#0f172a 60%);z-index:1000;animation:splashFade .6s ease 1.2s forwards}
    .splash-inner{text-align:center}
    .logo{font-weight:800;font-size:clamp(34px,6vw,64px);display:flex;gap:.35em;align-items:center;justify-content:center}
    .brand{background:linear-gradient(90deg,#fde68a,#f59e0b,#f97316);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .emoji{filter:drop-shadow(0 8px 20px rgba(0,0,0,.6));animation:bob 1.8s ease-in-out infinite}
    .skip{margin-top:12px}
    @keyframes bob{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(4deg)}}
    @keyframes splashFade{to{opacity:0;visibility:hidden}}
    @media (prefers-reduced-motion:reduce){
      .emoji{animation:none}
      #splash{animation:splashFade .01s linear .8s forwards}
    }
  </style>
</head>
<body>
  <!-- Splash -->
  <div id="splash" aria-label="„Ç≥„Ç≥„Ç§„ÉÅ„ÇØ„Ç§„Ç∫„ÅÆ„Ç™„Éº„Éó„Éã„É≥„Ç∞">
    <div class="splash-inner">
      <div class="logo"><span class="brand">„Ç≥„Ç≥„Ç§„ÉÅ„ÇØ„Ç§„Ç∫</span><span class="emoji" aria-hidden="true">üçõ</span></div>
      <p class="muted">Ê•≠ÂãôÁü•Ë≠ò„Çí„Ç≤„Éº„É†ÊÑüË¶ö„ÅßË¶ö„Åà„Çà„ÅÜ</p>
      <button id="skipBtn" class="btn skip">„Çπ„Ç≠„ÉÉ„Éó</button>
    </div>
  </div>

  <div class="wrap">
    <!-- HOME -->
    <section id="home" class="card fadeIn" aria-labelledby="homeTitle">
      <div class="toolbar">
        <h1 id="homeTitle" style="margin:0">„Ç≥„Ç≥„Ç§„ÉÅ„ÇØ„Ç§„Ç∫</h1>
        <label class="toggle" id="muteToggle"><span class="dot on" id="dot"></span><span>„Çµ„Ç¶„É≥„Éâ</span></label>
      </div>
      <p class="muted">„É©„Ç§„ÇπÈáè ‚Üî „ÇΩ„Éº„ÇπÈáèÔºè„ÅäÁéâ„ÅÆÊú¨Êï∞„ÇíË¶ö„Åà„Çã„ÇØ„Ç§„Ç∫„ÄÇ<br><small>v20250913i ¬∑ „Ç∑„É≥„Ç∞„É´HTML ¬∑ WebAudio„ÄÇ</small></p>
      <div class="row slider">
        <span class="muted">Âá∫È°åÊï∞</span>
        <input id="qRange" type="range" min="1" max="16" value="16" />
        <span class="valueBubble" id="qVal">16</span>
        <span class="pill" id="bankSize"></span>
      </div>
      <div class="row">
        <button id="startBtn" class="btn primary">„Çπ„Çø„Éº„Éà</button>
        <button id="howBtn" class="btn">Ôºü ÈÅä„Å≥Êñπ</button>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="card hide" aria-live="polite">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div><span id="qIndex">1</span>/<span id="qTotal">1</span></div>
        <div class="pill">Ê≠£Ëß£Ôºö<span id="qCorrect">0</span></div>
      </div>
      <div class="progress"><div id="bar" class="bar"></div></div>
      <h2 id="qTitle">ÂïèÈ°åÊñá</h2>
      <div id="choiceWrap" class="choices" role="group" aria-label="ÈÅ∏ÊäûËÇ¢"></div>
      <div class="foot">
        <button id="nextBtn" class="btn" disabled>Ê¨°„Å∏ ‚ñ∂</button>
        <span id="judgeText" class="muted"></span>
      </div>
    </section>

    <!-- RESULT -->
    <section id="result" class="card hide" aria-labelledby="resTitle">
      <h2 id="resTitle">ÁµêÊûú</h2>
      <p style="font-size:clamp(24px,4vw,36px);font-weight:800"><span id="scoreText">0/0</span></p>
      <p id="scoreMsg" class="muted"></p>
      <div class="row">
        <button id="retryBtn" class="btn primary">„ÇÇ„ÅÜ‰∏ÄÂ∫¶</button>
        <button id="homeBtn" class="btn">„Éà„ÉÉ„Éó„Å∏</button>
      </div>
    </section>
  </div>

  <script>
  // ====== Splash ======
  const splash = document.getElementById('splash');
  document.getElementById('skipBtn').addEventListener('click', ()=> splash.style.display='none');

  // ====== Sound (WebAudio) ======
  let audioCtx; let muted=false;
  const dot = document.getElementById('dot');
  function ensureCtx(){
    if(!audioCtx){
      audioCtx = new (window.AudioContext||window.webkitAudioContext)();
    }
    if(audioCtx.state==='suspended'){ audioCtx.resume(); }
    // iOSÂØæÁ≠ñÔºö„ÉØ„É≥„Ç∑„Éß„ÉÉ„ÉàÁÑ°Èü≥„ÇíÂÜçÁîü„Åó„Å¶unlock
    const buf = audioCtx.createBuffer(1, 1, 22050);
    const src = audioCtx.createBufferSource();
    src.buffer = buf; src.connect(audioCtx.destination); src.start(0);
  }
  function beep(freq, dur=0.15, type='sine', vol=0.08, when=0){
    if(muted) return;
    ensureCtx();
    const t = (audioCtx.currentTime + when);
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type = type; o.frequency.setValueAtTime(freq, t);
    o.connect(g); g.connect(audioCtx.destination);
    g.gain.setValueAtTime(0.0001, t);
    g.gain.exponentialRampToValueAtTime(vol, t+0.01);
    g.gain.exponentialRampToValueAtTime(0.0001, t+dur);
    o.start(t); o.stop(t+dur+0.02);
  }
  function sfxCorrect(){
    const base = 493.88; // B4
    [base, 659.25, 880.0].forEach((f,i)=>beep(f, 0.12, 'sine', 0.08, i*0.08));
  }
  function sfxWrong(){
    ensureCtx(); if(muted) return;
    const t = audioCtx.currentTime;
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type='sawtooth'; o.frequency.setValueAtTime(220, t); o.frequency.exponentialRampToValueAtTime(120, t+0.35);
    o.connect(g); g.connect(audioCtx.destination);
    g.gain.setValueAtTime(0.001, t); g.gain.linearRampToValueAtTime(0.07, t+0.02); g.gain.exponentialRampToValueAtTime(0.0001, t+0.36);
    o.start(t); o.stop(t+0.38);
  }
  document.getElementById('muteToggle').addEventListener('click', ()=>{
    muted = !muted; dot.classList.toggle('on', !muted);
    if(!muted){ ensureCtx(); beep(880, .06, 'sine', .05); }
    try{ localStorage.setItem('quiz-muted', String(muted)); }catch(e){}
  });
  // restore mute state
  try{ muted = (localStorage.getItem('quiz-muted') === 'true'); dot.classList.toggle('on', !muted);}catch(e){}

  // Prime audio on first interaction anywhere
  document.addEventListener('pointerdown', ()=>{ try{ensureCtx()}catch(e){} }, {once:true});

  // ====== App state ======
  const $=s=>document.querySelector(s), $$=s=>Array.from(document.querySelectorAll(s));
  const home=$('#home'), quiz=$('#quiz'), result=$('#result');
  const startBtn=$('#startBtn'), howBtn=$('#howBtn');
  const qRange=$('#qRange'), qVal=$('#qVal'), bankSize=$('#bankSize');
  const qIndex=$('#qIndex'), qTotal=$('#qTotal'), qTitle=$('#qTitle'), choiceWrap=$('#choiceWrap');
  const nextBtn=$('#nextBtn'), judgeText=$('#judgeText'), bar=$('#bar');
  const scoreText=$('#scoreText'), scoreMsg=$('#scoreMsg'), retryBtn=$('#retryBtn'), homeBtn=$('#homeBtn');
  const qCorrectEl=$('#qCorrect');

  const questionBank = [
    { q:'„É©„Ç§„ÇπÈáè100gÔºà„ÅäÂ≠êÊßòÔºâ„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['154gÔºè1Âº∑','176gÔºè2ÊùØ','88gÔºè1ÊùØ','120gÔºè1.5ÊùØ'], answer:'88gÔºè1ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè150gÔºà„Éè„Éº„ÉïÔºâ„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['176gÔºè2ÊùØ','140gÔºè1ÊùØ','154gÔºè1Âº∑','220gÔºè2.5ÊùØ'], answer:'154gÔºè1Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè200g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['176gÔºè2ÊùØ','154gÔºè1Âº∑','220gÔºè2.5ÊùØ','200gÔºè2.5ÊùØ'], answer:'176gÔºè2ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè250„Äú300g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['200gÔºè2ÊùØ','290gÔºè3Âº∑','220gÔºè2.5ÊùØ','176gÔºè2ÊùØ'], answer:'220gÔºè2.5ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè350„Äú400g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['220gÔºè2.5ÊùØ','290gÔºè3Âº∑','360gÔºè4Âº∑','440gÔºè5ÊùØ'], answer:'290gÔºè3Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè500g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['360gÔºè4Âº∑','290gÔºè3Âº∑','440gÔºè5ÊùØ','484gÔºè5.5ÊùØ'], answer:'360gÔºè4Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè600g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['360gÔºè4Âº∑','484gÔºè5.5ÊùØ','440gÔºè5ÊùØ','528gÔºè6ÊùØ'], answer:'440gÔºè5ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè700g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['484gÔºè5.5ÊùØ','440gÔºè5ÊùØ','528gÔºè6ÊùØ','572gÔºè6.5ÊùØ'], answer:'484gÔºè5.5ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè800g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['484gÔºè5.5ÊùØ','572gÔºè6.5ÊùØ','528gÔºè6ÊùØ','600gÔºè6.5ÊùØ'], answer:'528gÔºè6ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè900g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['528gÔºè6ÊùØ','650gÔºè7Âº∑','572gÔºè6.5ÊùØ','484gÔºè5.5ÊùØ'], answer:'572gÔºè6.5ÊùØ' },
    { q:'„É©„Ç§„ÇπÈáè1000g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['572gÔºè6.5ÊùØ','730gÔºè8Âº∑','606gÔºè7Âº∑','650gÔºè7Âº∑'], answer:'650gÔºè7Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè1100g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['572gÔºè6.5ÊùØ','650gÔºè7Âº∑','730gÔºè8Âº∑','600gÔºè6.5ÊùØ'], answer:'650gÔºè7Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè1200g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['650gÔºè7Âº∑','572gÔºè6.5ÊùØ','694gÔºè7Âº∑','730gÔºè8Âº∑'], answer:'650gÔºè7Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè1300g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['650gÔºè7Âº∑','730gÔºè7Âº∑','694gÔºè7Âº∑','572gÔºè6.5ÊùØ'], answer:'730gÔºè7Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè1400g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['650gÔºè7Âº∑','572gÔºè6.5ÊùØ','730gÔºè8Âº∑','800gÔºè8ÊùØ'], answer:'730gÔºè8Âº∑' },
    { q:'„É©„Ç§„ÇπÈáè1500g„ÅÆÂ†¥Âêà„ÄÅ„ÇΩ„Éº„ÇπÈáè„Å®„ÅäÁéâ„ÅØÔºü', choices:['730gÔºè8Âº∑','800gÔºè8ÊùØ','650gÔºè7Âº∑','745gÔºè8Âº∑'], answer:'730gÔºè8Âº∑' },
  ];
  bankSize.textContent = `ÂÖ® ${questionBank.length} Âïè`;
  qRange.max = questionBank.length; qVal.textContent = qRange.value;

  const shuffle=arr=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(v=>v[1]);

  let picked=[], idx=0, correct=0;

  function show(sec){ [home,quiz,result].forEach(s=>s.classList.add('hide')); sec.classList.remove('hide'); sec.classList.add('fadeIn'); }
  function begin(n){
    splash.style.display='none'; // StartÊôÇ„ÅØÁ¢∫ÂÆü„Å´Ê∂à„Åô
    picked = shuffle(questionBank).slice(0,n).map(q=>({...q}));
    idx=0; correct=0; qCorrectEl.textContent='0';
    qTotal.textContent = picked.length; nextBtn.disabled=true; judgeText.textContent='';
    show(quiz); render();
  }
  function render(){
    const cur=picked[idx];
    qIndex.textContent=idx+1; qTitle.textContent=cur.q; judgeText.textContent='';
    bar.style.width = `${(idx/picked.length)*100}%`; nextBtn.disabled=true;
    choiceWrap.innerHTML='';
    shuffle(cur.choices).forEach(t=>{
      const b=document.createElement('button'); b.className='choice'; b.textContent=t; b.type='button';
      b.addEventListener('click',()=>onPick(b,t,cur.answer)); choiceWrap.appendChild(b);
    });
  }
  function onPick(btn, pickedText, answer){
    if(nextBtn.disabled===false) return;
    const buttons=$$('.choice'); buttons.forEach(b=>b.disabled=true);
    const ok = pickedText===answer;
    btn.classList.add(ok?'correct':'wrong', ok?'pop':'shake');
    judgeText.textContent= ok?'Ê≠£Ëß£ÔºÅ':'‰∏çÊ≠£Ëß£‚Ä¶'; judgeText.style.color= ok?'var(--ok)':'var(--ng)';
    if(ok){ correct++; qCorrectEl.textContent=String(correct); sfxCorrect(); } else { sfxWrong(); }
    const a=buttons.find(b=>b.textContent===answer); if(a) a.classList.add('correct');
    nextBtn.disabled=false;
  }
  function finish(){
    bar.style.width='100%'; scoreText.textContent=`${correct} / ${picked.length}`;
    const r=correct/picked.length; scoreMsg.textContent= r>=.9?'ÂÆåÁíßÔºÅÁèæÂ†¥„Éû„Çπ„Çø„ÉºÔºÅ': r>=.7?'„ÅÑ„ÅÑÊÑü„Åò„ÄÅ„Åì„ÅÆË™øÂ≠êÔºÅ':'„ÇÇ„ÅÜ‰∏ÄÊÅØ„ÄÇÂæ©Áøí„Åó„Å¶„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶„Åó„Çà„ÅÜ„ÄÇ';
    show(result);
  }

  // Events
  document.getElementById('skipBtn').addEventListener('click', ()=>{ try{ensureCtx()}catch(e){} });
  startBtn.addEventListener('click',()=>{ try{ensureCtx()}catch(e){}; begin(parseInt(qRange.value,10)); });
  retryBtn.addEventListener('click',()=>begin(picked.length));
  homeBtn.addEventListener('click',()=>show(home));
  howBtn.addEventListener('click',()=>alert('4ÊäûÂïèÈ°å„ÄÇÂá∫È°åÊï∞„ÅØ„Çπ„É©„Ç§„ÉÄ„Éº„ÅßË®≠ÂÆö„ÄÇÈÅ∏„Å∂„Å®„Çµ„Ç¶„É≥„ÉâÔºÜ„Ç¢„Éã„É°„Åß„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÅåÂá∫„Åæ„Åô„ÄÇÂè≥‰∏ä„ÅÆ„Äå„Çµ„Ç¶„É≥„Éâ„Äç„Åß„Éü„É•„Éº„ÉàÂàá„ÇäÊõø„Åà„ÄÇ'));
  nextBtn.addEventListener('click',()=>{ idx++; if(idx>=picked.length) finish(); else render(); });
  qRange.addEventListener('input',()=>{ qVal.textContent = qRange.value; });

  // First pointer primes audio globally
  document.addEventListener('pointerdown', ()=>{ try{ensureCtx()}catch(e){} }, {once:true});
  </script>
</body>
</html>
